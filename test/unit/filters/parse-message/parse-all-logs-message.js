/* eslint-env mocha */

"use strict";

var assert = require("chai").assert;
var parseAllLogsMessage = require("../../../../src/filters/parse-message/parse-all-logs-message");

describe("parse-message/parse-all-logs-message", function () {
  var test = function (msg) {
    it(JSON.stringify(msg), function (done) {
      parseAllLogsMessage(msg, function (parsed) {
        if (msg.constructor === Array) {
          assert.deepEqual(parsed, msg[0]);
        } else {
          assert.deepEqual(parsed, msg);
        }
        done();
      });
    });
  };
  test({
    address: "0x8d28df956673fa4a8bc30cd0b3cb657445bc820e",
    blockHash: "0x949556543bbbefc3e440abe08606c8a1903c6d9c100c3e93bdd3f6bc4cdd9974",
    blockNumber: "0x119406",
    data: "0x0000000000000000000000007c0d52faab596c08f484e3478aebc6205f3f5d8c0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000851eb851eb851eb8000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000011f32619b74f9d54f77d94a7f86aef48d67421770774953d023f3c4f0e7bf2a8d",
    logIndex: "0x0",
    topics: [
      "0x8dbed7bffe37a9907a92186110f23d8104f5967a71fb059f3b907ca9001fd160",
      "0xebb0d4c04bc87d3b401a5baad3b093a5e7cc3f4e996dc53e36db78c8b374cc9a"
    ],
    transactionHash: "0xd0f3c5d28308f55f00ad7456e4060ae638acd4927ca79165f620fa970d692201",
    transactionIndex: "0x0"
  });
  test([{
    address: "0x8d28df956673fa4a8bc30cd0b3cb657445bc820e",
    blockHash: "0x949556543bbbefc3e440abe08606c8a1903c6d9c100c3e93bdd3f6bc4cdd9974",
    blockNumber: "0x119406",
    data: "0x0000000000000000000000007c0d52faab596c08f484e3478aebc6205f3f5d8c0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000851eb851eb851eb8000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000011f32619b74f9d54f77d94a7f86aef48d67421770774953d023f3c4f0e7bf2a8d",
    logIndex: "0x0",
    topics: [
      "0x8dbed7bffe37a9907a92186110f23d8104f5967a71fb059f3b907ca9001fd160",
      "0xebb0d4c04bc87d3b401a5baad3b093a5e7cc3f4e996dc53e36db78c8b374cc9a"
    ],
    transactionHash: "0xd0f3c5d28308f55f00ad7456e4060ae638acd4927ca79165f620fa970d692201",
    transactionIndex: "0x0"
  }]);
  test([{
    address: "0x8d28df956673fa4a8bc30cd0b3cb657445bc820e",
    blockHash: "0x0e2f477418a6cc65306a2559a611cafc22d50505b493a1e3674ad9c8076e15e2",
    blockNumber: "0x11963b",
    data: "0x0000000000000000000000007c0d52faab596c08f484e3478aebc6205f3f5d8c0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000df8a189bb07bf96c000000000000000000000000000000000000000000000149000000000000000000000000000000000000000000000000000000000000000000000000000000024eef144a1d15da2a6ad96e36147f3fee70e0ecc3a4f0cbb3932fbd7133809f09",
    logIndex: "0x2",
    topics: [
      "0x8dbed7bffe37a9907a92186110f23d8104f5967a71fb059f3b907ca9001fd160",
      "0x3b19a87dc13d7c9165f444bef3044543c132cbd979f062f2459ef3725633a3f4"
    ],
    transactionHash: "0xe0384041bbc3b637fddc2835841b25d14f893e6cf9866032a13e5fd5068e4ab6",
    transactionIndex: "0x2"
  }]);
  test([{
    address: "0x8d28df956673fa4a8bc30cd0b3cb657445bc820e",
    blockHash: "0x8c3fa0f2a092adf52702b8ebda332c12311f32a9d7dbeca3fd7ad3237a1b143a",
    blockNumber: "0x11964c",
    data: "0x000000000000000000000000ae1ba9370f9c3d64894ed9a101079fd17bf1044800000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000001d7dd185ffffff8d00000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000002ccb7a4c7d0c9a0de5c08c459ce78642b23fdbd9df707781a9f4c24f9c1205bfd",
    logIndex: "0x1",
    topics: [
      "0x8dbed7bffe37a9907a92186110f23d8104f5967a71fb059f3b907ca9001fd160",
      "0xbbc704ce88ff685a56a6a8e708cec54f981d750d8fe83a53d8c4ffb2d4bf4ddd"
    ],
    transactionHash: "0xa1796f1e7bd1290ba695908a2633a5164deb83c1431c5106c51fb186e79c257e",
    transactionIndex: "0x3"
  }]);
});

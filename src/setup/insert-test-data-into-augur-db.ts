import * as Knex from "knex";
import { ErrorCallback } from "../types";

export function insertTestDataIntoAugurDb(db: Knex, callback: ErrorCallback): void {
  db.serialize(() => {
    db.run(`INSERT INTO markets
            (market_id, universe, market_type, num_outcomes, min_price, max_price, market_creator, creation_time, creation_block_number, creation_fee, market_creator_fee_rate, topic, tag1, tag2, reporting_window, end_time, short_description, designated_reporter, resolution_source)
            VALUES (
              '0x0000000000000000000000000000000000000001',
              '0x000000000000000000000000000000000000000b',
              'categorical',
              8,
              0,
              1000000000000000000,
              '0x0000000000000000000000000000000000000b0b',
              1506473474,
              1400000,
              1000000000000000000,
              1,
              'test topic',
              'test tag 1',
              'test tag 2',
              '0x1000000000000000000000000000000000000000',
              1506573470,
              'This is a categorical test market created by b0b.',
              '0x0000000000000000000000000000000000000b0b',
              'http://www.trusted-third-party.com'
            ), (
              '0x0000000000000000000000000000000000000002',
              '0x000000000000000000000000000000000000000b',
              'binary',
              2,
              0,
              1000000000000000000,
              '0x0000000000000000000000000000000000000b0b',
              1506480000,
              1400100,
              1000000000000000000,
              1,
              'test topic',
              'test tag 1',
              'test tag 2',
              '0x1000000000000000000000000000000000000000',
              1506573480,
              'This is a binary test market created by b0b.',
              '0x0000000000000000000000000000000000000b0b',
              'http://www.trusted-third-party.com'
            ), (
              '0x0000000000000000000000000000000000000003',
              '0x000000000000000000000000000000000000000b',
              'binary',
              2,
              0,
              1000000000000000000,
              '0x000000000000000000000000000000000000d00d',
              1506480015,
              1400101,
              1000000000000000000,
              1,
              'test topic',
              'test tag 1',
              'test tag 2',
              '0x1000000000000000000000000000000000000000',
              1506573500,
              'This is another binary test market created by d00d.',
              '0x000000000000000000000000000000000000d00d',
              'http://www.ttp-inc.com/0000000000000000000000000000000000000003'
            )`)
      .run(`INSERT INTO orders
            (order_id, market_id, outcome, share_token, order_type, order_creator, creation_time, creation_block_number, price, amount, tokens_escrowed, shares_escrowed)
            VALUES (
              '0x1000000000000000000000000000000000000000000000000000000000000000',
              '0x0000000000000000000000000000000000000001',
              0,
              '0x1000000000000000000000000000000000000000',
              'buy',
              '0x0000000000000000000000000000000000000b0b',
              1506473500,
              1400001,
              700000000000000000,
              1000000000000000000,
              700000000000000000,
              0
            ), (
              '0x2000000000000000000000000000000000000000000000000000000000000000',
              '0x0000000000000000000000000000000000000001',
              0,
              '0x1000000000000000000000000000000000000000',
              'buy',
              '0x000000000000000000000000000000000000d00d',
              1506473515,
              1400002,
              600000000000000000,
              2000000000000000000,
              1200000000000000000,
              0
            ), (
              '0x3000000000000000000000000000000000000000000000000000000000000000',
              '0x0000000000000000000000000000000000000001',
              1,
              '0x2000000000000000000000000000000000000000',
              'buy',
              '0x000000000000000000000000000000000000d00d',
              1506473515,
              1400002,
              600000000000000000,
              2000000000000000000,
              1200000000000000000,
              0
            ), (
              '0x4000000000000000000000000000000000000000000000000000000000000000',
              '0x0000000000000000000000000000000000000001',
              1,
              '0x2000000000000000000000000000000000000000',
              'sell',
              '0x000000000000000000000000000000000000d00d',
              1506473515,
              1400002,
              600000000000000000,
              2000000000000000000,
              1200000000000000000,
              0
            )`)
      .run(`INSERT INTO tokens
            (contract_address, symbol, market, outcome)
            VALUES
            ('ETH', 'ETH', NULL, NULL),
            ('0x7a305d9b681fb164dc5ad628b5992177dc66aec8', 'REP', NULL, NULL),
            ('0x2000000000000000000000000000000000000000', 'shares', '0x0000000000000000000000000000000000000001', 1),
            ('0x1000000000000000000000000000000000000000', 'shares', '0x0000000000000000000000000000000000000001', 0)`)
      .run(`INSERT INTO topics
            (topic, popularity, universe)
            VALUES
            ('test topic', 0, '0x000000000000000000000000000000000000000b'),
            ('politics', 5000, '0x000000000000000000000000000000000000000b'),
            ('ethereum', 1000, '0x000000000000000000000000000000000000000b'),
            ('augur', 500, '0x000000000000000000000000000000000000000b'),
            ('finance', 12345, '0x000000000000000000000000000000000000000b')`)
      .run(`INSERT INTO transfers
            (transaction_hash, log_index, sender, recipient, token, value, block_number)
            VALUES (
              '0x00000000000000000000000000000000000000000000000000000000deadbeef',
              0,
              '0x0000000000000000000000000000000000000b0b',
              '0x000000000000000000000000000000000000d00d',
              '0x1000000000000000000000000000000000000000',
              10,
              1400000
            ), (
              '0x00000000000000000000000000000000000000000000000000000000d3adb33f',
              0,
              '0x000000000000000000000000000000000000d00d',
              '0x0000000000000000000000000000000000000b0b',
              '0x1000000000000000000000000000000000000000',
              2,
              1400001
            ), (
              '0x00000000000000000000000000000000000000000000000000000000deadb33f',
              1,
              '0x0000000000000000000000000000000000000b0b',
              '0x000000000000000000000000000000000000d00d',
              '0x7a305d9b681fb164dc5ad628b5992177dc66aec8',
              47,
              1400001
            )`, callback);
  });
}
